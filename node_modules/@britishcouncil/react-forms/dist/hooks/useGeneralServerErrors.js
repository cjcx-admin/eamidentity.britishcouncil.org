import {
    useMemo
} from 'react';
import {
    generateObjectPaths
} from '@britishcouncil/common-core';
export function useGeneralServerErrors({
    initialValues
}, errors) {
    const fields = useMemo(() => new Set(generateObjectPaths(initialValues)), [initialValues]);
    return useMemo(() => {
        if (!errors) {
            return [];
        }
        const notMatchedErrors = [];
        for (const error of errors) {
            if (!error.propertyName || !fields.has(error.propertyName)) {
                notMatchedErrors.push(error);
                continue;
            }
        }
        return notMatchedErrors;
    }, [errors, fields]);
}