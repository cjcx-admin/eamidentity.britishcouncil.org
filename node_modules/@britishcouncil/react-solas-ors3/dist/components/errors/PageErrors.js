import React, {
    useEffect
} from 'react';
import {
    GenericApiError
} from './';
/** Error shown on the bottom of the page. There is always only one error displayed. */
export const PageErrors = ({
    children,
    errors,
    clearErrors,
    extended = true,
    i18n,
    ...props
}) => {
    useEffect(() => {
        clearErrors && clearErrors();
    }, [clearErrors]);
    const errorToDisplay = errors.find((e) => !!e.error);
    return errorToDisplay ? (React.createElement(GenericApiError, { ...props,
        extended: extended,
        apiError: errorToDisplay.apiError || errorToDisplay.error.type,
        detailedMsg: errorToDisplay.detailedMsg || errorToDisplay.error.msg,
        i18n: i18n,
        style: {
            marginBottom: '20px',
            ...props.style
        }
    }, children)) : null;
};