import React, {
    useEffect,
    useRef,
    useState
} from 'react';
import {
    builtinColumns
} from '../builtinColumns';
import {
    checkboxColumn
} from './checkboxColumn';
/** When checkboxes are disabled, make a bit room for first column */
const emptyColumn = {
    id: builtinColumns.checkbox,
    header: () => React.createElement("div", {
        className: "empty-column"
    }),
    cell: () => null,
};
export const useCheckbox = (enable = false, disableCheckbox, infoRows) => {
    const checkBoxRef = useRef(null);
    const [checkboxCol, setCheckboxCol] = useState();
    useEffect(() => {
        if (!enable)
            return;
        const cc = checkboxColumn(checkBoxRef.current, infoRows, disableCheckbox);
        setCheckboxCol(cc);
    }, [enable, infoRows, disableCheckbox]);
    return {
        checkboxCol: checkboxCol ? [checkboxCol] : [emptyColumn],
        checkBoxRef
    };
};