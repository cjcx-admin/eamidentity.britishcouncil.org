import React from 'react';
import FiltersContext from './FiltersContext';
import memoizeOne from 'memoize-one';
const DEFAULT_VALUES = {};
class Filters extends React.PureComponent {
    getContextValue = memoizeOne((values) => ({
        values: values || DEFAULT_VALUES,
        updateValue: this.updateFilter,
    }));
    updateFilter = (name, value) => {
        const {
            onChange,
            values
        } = this.props;
        if (onChange) {
            onChange({
                ...values,
                [name]: value,
            });
        }
    };
    render() {
        const {
            children,
            values
        } = this.props;
        return React.createElement(FiltersContext.Provider, {
            value: this.getContextValue(values)
        }, children);
    }
}
export default Filters;